<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Trader Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', Arial, sans-serif;
      background-color: #0d1117;
      color: #c9d1d9;
      line-height: 1.6;
      text-align: center;
    }

    header {
      background-color: #161b22;
      padding: 20px;
    }

    h1 {
      color: #58a6ff;
    }

    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      background-color: #161b22;
      border-radius: 10px;
    }

    .btn {
      padding: 12px 20px;
      background-color: white;
      color: black;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      margin: 5px;
    }

    .btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    .market-item {
      background-color: #161b22;
      padding: 15px;
      border-radius: 5px;
      margin: 10px auto;
      width: 200px;
      box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .work-container {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<header>
  <h1>Crypto Trader Pro</h1>
</header>

<div class="container">
  <!-- Work Button at the Top -->
  <div class="work-container">
    <button id="work-btn" class="btn" onclick="work()">Work (+$1000)</button>
    <p id="work-timer" style="color: #ff5555; display: none;">Cooldown: 3:00</p>
  </div>

  <h2>üí∞ Balance: <span id="balance">$1000</span></h2>
  <h2>ü™ô Crypto Owned: <span id="crypto">0</span></h2>
  <h2>üìà Crypto Price: <span id="price">$500</span></h2>

  <button class="btn" onclick="buyCrypto()">Buy Crypto</button>
  <button class="btn" onclick="sellCrypto()">Sell Crypto</button>
  <button class="btn" onclick="resetGame()">Reset</button>

  <canvas id="priceChart"></canvas>

  <div class="market">
    <h2>üè°üèéÔ∏è Market: Buy Houses & Cars</h2>
    <div class="market-item">
      <p>üöó Sports Car</p>
      <p>Price: $50,000</p>
      <button class="btn buy-btn" onclick="buyItem(50000)">Buy</button>
    </div>
    <div class="market-item">
      <p>üöô SUV</p>
      <p>Price: $30,000</p>
      <button class="btn buy-btn" onclick="buyItem(30000)">Buy</button>
    </div>
    <div class="market-item">
      <p>üè† Small House</p>
      <p>Price: $150,000</p>
      <button class="btn buy-btn" onclick="buyItem(150000)">Buy</button>
    </div>
    <div class="market-item">
      <p>üè° Luxury Villa</p>
      <p>Price: $500,000</p>
      <button class="btn buy-btn" onclick="buyItem(500000)">Buy</button>
    </div>
  </div>

</div>

<script>
  let balance = 1000;
  let cryptoOwned = 0;
  let cryptoPrice = 500;
  let workCooldown = false;

  const ctx = document.getElementById("priceChart").getContext("2d");
  const priceHistory = [cryptoPrice];

  const chart = new Chart(ctx, {
    type: "line",
    data: {
      labels: ["Start"],
      datasets: [{
        label: "Crypto Price ($)",
        data: priceHistory,
        borderColor: "#58a6ff",
        backgroundColor: "rgba(88, 166, 255, 0.2)",
        borderWidth: 2,
        tension: 0.2,
      }],
    },
    options: {
      responsive: true,
      scales: {
        x: { ticks: { color: "#c9d1d9" } },
        y: { ticks: { color: "#c9d1d9" } },
      },
    },
  });

  function updateUI() {
    document.getElementById("balance").innerText = `$${balance}`;
    document.getElementById("crypto").innerText = `${cryptoOwned}`;
    document.getElementById("price").innerText = `$${cryptoPrice}`;

    document.querySelectorAll('.buy-btn').forEach(button => {
      const price = parseFloat(button.parentElement.children[1].innerText.replace('Price: $', ''));
      button.disabled = balance < price;
    });
  }

  function buyCrypto() {
    if (balance >= cryptoPrice) {
      balance -= cryptoPrice;
      cryptoOwned++;
      updateUI();
    } else {
      alert("Not enough balance!");
    }
  }

  function sellCrypto() {
    if (cryptoOwned > 0) {
      balance += cryptoPrice;
      cryptoOwned--;
      updateUI();
    } else {
      alert("No crypto to sell!");
    }
  }

  function buyItem(price) {
    if (balance >= price) {
      balance -= price;
      alert(`You bought an item for $${price}!`);
      updateUI();
    } else {
      alert("Not enough money!");
    }
  }

  function work() {
    if (!workCooldown) {
      balance += 1000;
      updateUI();
      workCooldown = true;
      document.getElementById("work-btn").disabled = true;
      let timeLeft = 180;
      const timer = document.getElementById("work-timer");
      timer.style.display = "block";

      const interval = setInterval(() => {
        timeLeft--;
        timer.innerText = `Cooldown: ${Math.floor(timeLeft / 60)}:${(timeLeft % 60).toString().padStart(2, '0')}`;
        if (timeLeft <= 0) {
          clearInterval(interval);
          workCooldown = false;
          document.getElementById("work-btn").disabled = false;
          timer.style.display = "none";
        }
      }, 1000);
    }
  }

  function changePrice() {
    const change = Math.floor(Math.random() * 1000) - 500;
    cryptoPrice = Math.max(500, Math.min(150000, cryptoPrice + change));
    priceHistory.push(cryptoPrice);
    if (priceHistory.length > 10) priceHistory.shift();

    chart.data.labels.push("");
    if (chart.data.labels.length > 10) chart.data.labels.shift();
    
    chart.update();
    updateUI();
  }

  setInterval(changePrice, 5000);

  function resetGame() {
    balance = 1000;
    cryptoOwned = 0;
    cryptoPrice = 500;
    priceHistory.length = 0;
    priceHistory.push(cryptoPrice);
    updateUI();
  }

  updateUI();
</script>

</body>
</html>
